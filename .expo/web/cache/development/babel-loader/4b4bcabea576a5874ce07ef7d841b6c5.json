{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = _regeneratorRuntime.mark(api);\n\nimport axios from \"axios\";\nexport function api(requestURL) {\n  var requestMethod,\n      data,\n      locale,\n      fullUrl,\n      instance,\n      domain,\n      contentType,\n      postData,\n      _args = arguments;\n  return _regeneratorRuntime.wrap(function api$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          requestMethod = _args.length > 1 && _args[1] !== undefined ? _args[1] : \"GET\";\n          data = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n          locale = _args.length > 3 && _args[3] !== undefined ? _args[3] : \"en\";\n          fullUrl = _args.length > 4 && _args[4] !== undefined ? _args[4] : false;\n          instance = axios.create();\n          global.axios = instance;\n          domain = \"https://pokeapi.co/api/v2/api/\";\n          contentType = \"application/json\";\n          requestURL = (fullUrl ? '' : domain) + requestURL;\n          headers = {\n            locale: locale,\n            accept: \"application/json\",\n            \"Content-Type\": contentType\n          };\n          postData = {\n            method: requestMethod,\n            url: requestURL,\n            headers: headers,\n            data: data,\n            timeout: 60000\n          };\n\n          if (requestMethod === \"GET\") {\n            postData = {\n              method: requestMethod,\n              url: requestURL,\n              headers: headers,\n              params: data,\n              timeout: 20000\n            };\n          }\n\n          console.log(\"requestURL\", requestURL);\n          console.log(\"postData\", postData);\n          _context.next = 16;\n          return axios(postData).then(function (response) {\n            return response.data;\n          }).catch(function (error) {\n            if (error.response == undefined) {\n              throw {\n                response: {\n                  data: {\n                    code: \"UNEXPECTEDERROR\",\n                    message: {\n                      error: \"Unexpected error encountered. \" + error.message\n                    }\n                  }\n                }\n              };\n            }\n\n            throw error;\n          });\n\n        case 16:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}","map":{"version":3,"names":["api","axios","requestURL","requestMethod","data","locale","fullUrl","instance","create","global","domain","contentType","headers","accept","postData","method","url","timeout","params","console","log","then","response","catch","error","undefined","code","message"],"sources":["/Users/vincent/Documents/Assessment/react-native-coding-test-level-1/src/redux/saga/api/ApiHelper.js"],"sourcesContent":["import axios from \"axios\";\n\nexport function* api(\n  requestURL,\n  requestMethod = \"GET\",\n  data = {},\n  locale = \"en\",\n  fullUrl = false,\n) {\n  const instance = axios.create();\n  // instance.defaults.headers.common[\"User-Agent\"] = \"\";\n  global.axios = instance;\n\n  const domain = `https://pokeapi.co/api/v2/api/`;\n\n  let contentType = \"application/json\";\n  \n  requestURL = (fullUrl ? '' : domain) + requestURL;\n\n  headers = {\n    locale,\n    accept: \"application/json\",\n    \"Content-Type\": contentType,\n  };\n\n  let postData = {\n    method: requestMethod,\n    url: requestURL,\n    headers,\n    data,\n    timeout: 60000,\n  };\n  if (requestMethod === \"GET\") {\n    postData = {\n      method: requestMethod,\n      url: requestURL,\n      headers,\n      params: data,\n      timeout: 20000,\n    };\n  }\n  console.log(\"requestURL\", requestURL);\n  console.log(\"postData\", postData);\n  return yield axios(postData)\n    .then((response) => response.data)\n    .catch((error) => {\n      if (error.response == undefined) {\n        throw {\n          response: {\n            data: {\n              code: \"UNEXPECTEDERROR\",\n              message: {\n                error: \"Unexpected error encountered. \" + error.message,\n              },\n            },\n          },\n        };\n      }\n      throw error;\n    });\n}\n"],"mappings":";;uCAEiBA,G;;AAFjB,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAAUD,GAAV,CACLE,UADK;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;IAAA;MAAA;QAAA;UAELC,aAFK,2DAEW,KAFX;UAGLC,IAHK,2DAGE,EAHF;UAILC,MAJK,2DAII,IAJJ;UAKLC,OALK,2DAKK,KALL;UAOCC,QAPD,GAOYN,KAAK,CAACO,MAAN,EAPZ;UASLC,MAAM,CAACR,KAAP,GAAeM,QAAf;UAEMG,MAXD;UAaDC,WAbC,GAaa,kBAbb;UAeLT,UAAU,GAAG,CAACI,OAAO,GAAG,EAAH,GAAQI,MAAhB,IAA0BR,UAAvC;UAEAU,OAAO,GAAG;YACRP,MAAM,EAANA,MADQ;YAERQ,MAAM,EAAE,kBAFA;YAGR,gBAAgBF;UAHR,CAAV;UAMIG,QAvBC,GAuBU;YACbC,MAAM,EAAEZ,aADK;YAEba,GAAG,EAAEd,UAFQ;YAGbU,OAAO,EAAPA,OAHa;YAIbR,IAAI,EAAJA,IAJa;YAKba,OAAO,EAAE;UALI,CAvBV;;UA8BL,IAAId,aAAa,KAAK,KAAtB,EAA6B;YAC3BW,QAAQ,GAAG;cACTC,MAAM,EAAEZ,aADC;cAETa,GAAG,EAAEd,UAFI;cAGTU,OAAO,EAAPA,OAHS;cAITM,MAAM,EAAEd,IAJC;cAKTa,OAAO,EAAE;YALA,CAAX;UAOD;;UACDE,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BlB,UAA1B;UACAiB,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBN,QAAxB;UAxCK;UAyCE,OAAMb,KAAK,CAACa,QAAD,CAAL,CACVO,IADU,CACL,UAACC,QAAD;YAAA,OAAcA,QAAQ,CAAClB,IAAvB;UAAA,CADK,EAEVmB,KAFU,CAEJ,UAACC,KAAD,EAAW;YAChB,IAAIA,KAAK,CAACF,QAAN,IAAkBG,SAAtB,EAAiC;cAC/B,MAAM;gBACJH,QAAQ,EAAE;kBACRlB,IAAI,EAAE;oBACJsB,IAAI,EAAE,iBADF;oBAEJC,OAAO,EAAE;sBACPH,KAAK,EAAE,mCAAmCA,KAAK,CAACG;oBADzC;kBAFL;gBADE;cADN,CAAN;YAUD;;YACD,MAAMH,KAAN;UACD,CAhBU,CAAN;;QAzCF;UAAA;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module"}