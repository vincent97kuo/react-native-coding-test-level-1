{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { GET_CATALOG, GET_CATALOG_DETAIL_RESULT, GET_CATALOG_RESULT } from \"../actions\";\nvar INITIAL_STATE = {\n  limit: 10,\n  page: 0,\n  fetching: false,\n  list: [],\n  detail: {}\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_CATALOG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        fetching: true,\n        list: action.refresh ? [] : state.list || [],\n        page: action.refresh ? 0 : state.page\n      });\n\n    case GET_CATALOG_RESULT:\n      var result = state.list;\n      var page = state.page;\n\n      if (page == 0) {\n        result = action.payload;\n      } else {\n        result = [].concat(_toConsumableArray(state.list), _toConsumableArray(action.payload));\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        list: result,\n        page: page + 1,\n        fetching: false,\n        done: action.payload.length < state.length ? true : false\n      });\n\n    case GET_CATALOG_DETAIL_RESULT:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        detail: action.payload\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"names":["GET_CATALOG","GET_CATALOG_DETAIL_RESULT","GET_CATALOG_RESULT","INITIAL_STATE","limit","page","fetching","list","detail","state","action","type","refresh","result","payload","done","length"],"sources":["/Users/vincent/Documents/Assessment/react-native-coding-test-level-1/src/redux/reducers/catalog.js"],"sourcesContent":["import { GET_CATALOG, GET_CATALOG_DETAIL_RESULT, GET_CATALOG_RESULT } from \"../actions\";\n  \n  const INITIAL_STATE = {\n    limit: 10,\n    page: 0,\n    fetching: false,\n  \n    list: [],\n    detail: {},\n  };\n  \n  export default (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n      case GET_CATALOG:\n        return {\n            ...state,\n            fetching: true,\n            list: action.refresh ? [] : (state.list || []),\n            page: action.refresh ? 0 : state.page,\n        };\n        case GET_CATALOG_RESULT:\n            let result = state.list;\n            let page = state.page;\n            if (page == 0) {\n                result = action.payload;\n            } else {\n                result = [\n                    ...state.list,\n                    ...action.payload\n                ];\n            }\n            return {\n                ...state,\n                list: result,\n                page: page + 1,\n                fetching: false,\n                done: action.payload.length < state.length\n                    ? true\n                    : false\n            };\n        case GET_CATALOG_DETAIL_RESULT:\n            return {\n                ...state,\n                detail: action.payload,\n            }\n      default:\n        return state;\n    }\n  };\n  "],"mappings":";;;;;;;AAAA,SAASA,WAAT,EAAsBC,yBAAtB,EAAiDC,kBAAjD;AAEE,IAAMC,aAAa,GAAG;EACpBC,KAAK,EAAE,EADa;EAEpBC,IAAI,EAAE,CAFc;EAGpBC,QAAQ,EAAE,KAHU;EAKpBC,IAAI,EAAE,EALc;EAMpBC,MAAM,EAAE;AANY,CAAtB;AASA,gBAAe,YAAmC;EAAA,IAAlCC,KAAkC,uEAA1BN,aAA0B;EAAA,IAAXO,MAAW;;EAChD,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKX,WAAL;MACE,uCACOS,KADP;QAEIH,QAAQ,EAAE,IAFd;QAGIC,IAAI,EAAEG,MAAM,CAACE,OAAP,GAAiB,EAAjB,GAAuBH,KAAK,CAACF,IAAN,IAAc,EAH/C;QAIIF,IAAI,EAAEK,MAAM,CAACE,OAAP,GAAiB,CAAjB,GAAqBH,KAAK,CAACJ;MAJrC;;IAMA,KAAKH,kBAAL;MACI,IAAIW,MAAM,GAAGJ,KAAK,CAACF,IAAnB;MACA,IAAIF,IAAI,GAAGI,KAAK,CAACJ,IAAjB;;MACA,IAAIA,IAAI,IAAI,CAAZ,EAAe;QACXQ,MAAM,GAAGH,MAAM,CAACI,OAAhB;MACH,CAFD,MAEO;QACHD,MAAM,gCACCJ,KAAK,CAACF,IADP,sBAECG,MAAM,CAACI,OAFR,EAAN;MAIH;;MACD,uCACOL,KADP;QAEIF,IAAI,EAAEM,MAFV;QAGIR,IAAI,EAAEA,IAAI,GAAG,CAHjB;QAIIC,QAAQ,EAAE,KAJd;QAKIS,IAAI,EAAEL,MAAM,CAACI,OAAP,CAAeE,MAAf,GAAwBP,KAAK,CAACO,MAA9B,GACA,IADA,GAEA;MAPV;;IASJ,KAAKf,yBAAL;MACI,uCACOQ,KADP;QAEID,MAAM,EAAEE,MAAM,CAACI;MAFnB;;IAIN;MACE,OAAOL,KAAP;EAlCJ;AAoCD,CArCD"},"metadata":{},"sourceType":"module"}